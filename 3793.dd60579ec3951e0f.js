"use strict";(self.webpackChunkbrain_power=self.webpackChunkbrain_power||[]).push([[3793],{3793:(R,d,s)=>{s.r(d),s.d(d,{PersonalInfoComponent:()=>T});var _=s(177),o=s(4341),u=s(3025),b=s(9112),e=s(4438),k=s(70),y=s(5096);function I(i,f){if(1&i&&(e.j41(0,"div",26),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.getFieldError("firstName")," ")}}function P(i,f){if(1&i&&(e.j41(0,"div",26),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.getFieldError("lastName")," ")}}function C(i,f){if(1&i&&(e.j41(0,"div",26),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.getFieldError("age")," ")}}function v(i,f){if(1&i&&(e.j41(0,"div",26),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.getFieldError("weight")," ")}}function F(i,f){if(1&i&&(e.j41(0,"div",26),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.getFieldError("height")," ")}}function E(i,f){if(1&i&&(e.j41(0,"div",26),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.getFieldError("email")," ")}}function M(i,f){if(1&i&&(e.j41(0,"div",26),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.getFieldError("phone")," ")}}let T=(()=>{class i{constructor(t,r,n){this.fb=t,this.router=r,this.translateService=n,this.form=this.fb.group({firstName:["",[o.k0.required,o.k0.minLength(2),o.k0.maxLength(12),o.k0.pattern(/^[a-zA-Z\u0590-\u05FF\s\'\-\"]+$/)]],lastName:["",[o.k0.pattern(/^[a-zA-Z\u0590-\u05FF\s\'\-\"]*$/)]],age:["",[o.k0.min(1),o.k0.max(120)]],weight:["",[o.k0.min(1),o.k0.max(300)]],height:["",[o.k0.min(.5),o.k0.max(3)]],email:["",[o.k0.email]],phone:["",[o.k0.required,o.k0.pattern(/^[0-9\s\-\+\(\)]+$/)]]})}ngOnInit(){this.loadExistingProfile()}loadExistingProfile(){try{const t=JSON.parse(localStorage.getItem("profile")||"{}");if(t){const n=(t.fullName||"").split(" "),l=n[0]||"",a=n.slice(1).join(" ")||"";this.form.patchValue({firstName:l,lastName:a,age:t.age||"",weight:t.weight||"",height:t.height||"",email:t.email||"",phone:t.phone||""})}}catch(t){console.error("Error loading profile:",t)}}saveProfile(){if(this.form.invalid)return void this.form.markAllAsTouched();const t=this.form.value,r={fullName:`${t.firstName} ${t.lastName||""}`.trim(),firstName:t.firstName,lastName:t.lastName,age:t.age,weight:t.weight,height:t.height,email:t.email,phone:t.phone};localStorage.setItem("profile",JSON.stringify(r)),localStorage.removeItem("guest"),this.router.navigate(["/home"])}cancel(){this.router.navigate(["/home"])}getFieldError(t){const r=this.form.get(t);if(r?.errors&&r.touched){if(r.errors.required)return this.translateService.t("field_required");if(r.errors.minlength)return this.translateService.t("field_too_short");if(r.errors.maxlength)return this.translateService.t("field_too_long");if(r.errors.email)return this.translateService.t("invalid_email");if(r.errors.pattern){if("firstName"===t||"lastName"===t)return this.translateService.t("invalid_name");if("phone"===t)return this.translateService.t("invalid_phone")}if(r.errors.min||r.errors.max){if("age"===t)return this.translateService.t("invalid_age");if("weight"===t)return this.translateService.t("invalid_weight");if("height"===t)return this.translateService.t("invalid_height")}}return""}onNameKeyPress(t){return/^[a-zA-Z\u0590-\u05FF\s\'\-\"]$/.test(t.key)||"Backspace"===t.key||"Delete"===t.key||"Tab"===t.key}onPhoneKeyPress(t){return/^[0-9\s\-\+\(\)]$/.test(t.key)||"Backspace"===t.key||"Delete"===t.key||"Tab"===t.key}onAgeKeyPress(t){return/^[0-9]$/.test(t.key)||"Backspace"===t.key||"Delete"===t.key||"Tab"===t.key}onWeightKeyPress(t){return/^[0-9]$/.test(t.key)||"Backspace"===t.key||"Delete"===t.key||"Tab"===t.key}onHeightKeyPress(t){return/^[0-9.]$/.test(t.key)||"Backspace"===t.key||"Delete"===t.key||"Tab"===t.key}static{this.\u0275fac=function(r){return new(r||i)(e.rXU(o.ok),e.rXU(k.Ix),e.rXU(y.c))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-personal-info"]],standalone:!0,features:[e.aNF],decls:78,vars:80,consts:[[3,"title"],[1,"content"],[1,"form-container"],[1,"form-description"],[1,"personal-form",3,"ngSubmit","formGroup"],[1,"form-group"],[1,"label-row"],["for","firstName"],[1,"required"],["class","error-message",4,"ngIf"],["id","firstName","type","text","formControlName","firstName","maxlength","12",3,"keypress","placeholder"],["for","lastName"],["id","lastName","type","text","formControlName","lastName",3,"keypress","placeholder"],["for","age"],["id","age","type","number","formControlName","age","min","1","max","120",3,"keypress","placeholder"],["for","weight"],["id","weight","type","number","formControlName","weight","min","1","max","300",3,"keypress","placeholder"],["for","height"],["id","height","type","text","formControlName","height",3,"keypress","placeholder"],["for","email"],["id","email","type","email","formControlName","email",3,"placeholder"],["for","phone"],["id","phone","type","tel","formControlName","phone",3,"keypress","placeholder"],[1,"form-actions"],["type","button",1,"btn-secondary",3,"click"],["type","submit",1,"btn-primary",3,"disabled"],[1,"error-message"]],template:function(r,n){if(1&r&&(e.nrm(0,"app-header",0),e.nI1(1,"t"),e.j41(2,"div",1)(3,"div",2)(4,"h2"),e.EFF(5),e.nI1(6,"t"),e.k0s(),e.j41(7,"p",3),e.EFF(8),e.nI1(9,"t"),e.k0s(),e.j41(10,"form",4),e.bIt("ngSubmit",function(){return n.saveProfile()}),e.j41(11,"div",5)(12,"div",6)(13,"label",7),e.EFF(14),e.nI1(15,"t"),e.j41(16,"span",8),e.EFF(17,"*"),e.k0s()(),e.DNE(18,I,2,1,"div",9),e.k0s(),e.j41(19,"input",10),e.nI1(20,"t"),e.bIt("keypress",function(a){return n.onNameKeyPress(a)}),e.k0s()(),e.j41(21,"div",5)(22,"div",6)(23,"label",11),e.EFF(24),e.nI1(25,"t"),e.k0s(),e.DNE(26,P,2,1,"div",9),e.k0s(),e.j41(27,"input",12),e.nI1(28,"t"),e.bIt("keypress",function(a){return n.onNameKeyPress(a)}),e.k0s()(),e.j41(29,"div",5)(30,"div",6)(31,"label",13),e.EFF(32),e.nI1(33,"t"),e.k0s(),e.DNE(34,C,2,1,"div",9),e.k0s(),e.j41(35,"input",14),e.nI1(36,"t"),e.bIt("keypress",function(a){return n.onAgeKeyPress(a)}),e.k0s()(),e.j41(37,"div",5)(38,"div",6)(39,"label",15),e.EFF(40),e.nI1(41,"t"),e.k0s(),e.DNE(42,v,2,1,"div",9),e.k0s(),e.j41(43,"input",16),e.nI1(44,"t"),e.bIt("keypress",function(a){return n.onWeightKeyPress(a)}),e.k0s()(),e.j41(45,"div",5)(46,"div",6)(47,"label",17),e.EFF(48),e.nI1(49,"t"),e.k0s(),e.DNE(50,F,2,1,"div",9),e.k0s(),e.j41(51,"input",18),e.nI1(52,"t"),e.bIt("keypress",function(a){return n.onHeightKeyPress(a)}),e.k0s()(),e.j41(53,"div",5)(54,"div",6)(55,"label",19),e.EFF(56),e.nI1(57,"t"),e.k0s(),e.DNE(58,E,2,1,"div",9),e.k0s(),e.nrm(59,"input",20),e.nI1(60,"t"),e.k0s(),e.j41(61,"div",5)(62,"div",6)(63,"label",21),e.EFF(64),e.nI1(65,"t"),e.j41(66,"span",8),e.EFF(67,"*"),e.k0s()(),e.DNE(68,M,2,1,"div",9),e.k0s(),e.j41(69,"input",22),e.nI1(70,"t"),e.bIt("keypress",function(a){return n.onPhoneKeyPress(a)}),e.k0s()(),e.j41(71,"div",23)(72,"button",24),e.bIt("click",function(){return n.cancel()}),e.EFF(73),e.nI1(74,"t"),e.k0s(),e.j41(75,"button",25),e.EFF(76),e.nI1(77,"t"),e.k0s()()()()()),2&r){let l,a,p,m,c,g,h;e.Y8G("title",e.bMT(1,42,"personal_info")),e.R7$(5),e.JRh(e.bMT(6,44,"update_personal_info")),e.R7$(3),e.JRh(e.bMT(9,46,"personal_info_description")),e.R7$(2),e.Y8G("formGroup",n.form),e.R7$(4),e.SpI("",e.bMT(15,48,"first_name")," "),e.R7$(4),e.Y8G("ngIf",n.getFieldError("firstName")),e.R7$(),e.AVh("error",(null==(l=n.form.get("firstName"))?null:l.invalid)&&(null==(l=n.form.get("firstName"))?null:l.touched)),e.FS9("placeholder",e.bMT(20,50,"enter_first_name")),e.R7$(5),e.JRh(e.bMT(25,52,"last_name")),e.R7$(2),e.Y8G("ngIf",n.getFieldError("lastName")),e.R7$(),e.AVh("error",(null==(a=n.form.get("lastName"))?null:a.invalid)&&(null==(a=n.form.get("lastName"))?null:a.touched)),e.FS9("placeholder",e.bMT(28,54,"enter_last_name")),e.R7$(5),e.JRh(e.bMT(33,56,"age")),e.R7$(2),e.Y8G("ngIf",n.getFieldError("age")),e.R7$(),e.AVh("error",(null==(p=n.form.get("age"))?null:p.invalid)&&(null==(p=n.form.get("age"))?null:p.touched)),e.FS9("placeholder",e.bMT(36,58,"enter_age")),e.R7$(5),e.JRh(e.bMT(41,60,"weight")),e.R7$(2),e.Y8G("ngIf",n.getFieldError("weight")),e.R7$(),e.AVh("error",(null==(m=n.form.get("weight"))?null:m.invalid)&&(null==(m=n.form.get("weight"))?null:m.touched)),e.FS9("placeholder",e.bMT(44,62,"enter_weight")),e.R7$(5),e.JRh(e.bMT(49,64,"height")),e.R7$(2),e.Y8G("ngIf",n.getFieldError("height")),e.R7$(),e.AVh("error",(null==(c=n.form.get("height"))?null:c.invalid)&&(null==(c=n.form.get("height"))?null:c.touched)),e.FS9("placeholder",e.bMT(52,66,"enter_height")),e.R7$(5),e.JRh(e.bMT(57,68,"email")),e.R7$(2),e.Y8G("ngIf",n.getFieldError("email")),e.R7$(),e.AVh("error",(null==(g=n.form.get("email"))?null:g.invalid)&&(null==(g=n.form.get("email"))?null:g.touched)),e.FS9("placeholder",e.bMT(60,70,"enter_email")),e.R7$(5),e.SpI("",e.bMT(65,72,"phone")," "),e.R7$(4),e.Y8G("ngIf",n.getFieldError("phone")),e.R7$(),e.AVh("error",(null==(h=n.form.get("phone"))?null:h.invalid)&&(null==(h=n.form.get("phone"))?null:h.touched)),e.FS9("placeholder",e.bMT(70,74,"enter_phone")),e.R7$(4),e.SpI(" ",e.bMT(74,76,"cancel")," "),e.R7$(2),e.Y8G("disabled",n.form.invalid),e.R7$(),e.SpI(" ",e.bMT(77,78,"save_changes")," ")}},dependencies:[_.MD,_.bT,o.X1,o.qT,o.me,o.Q0,o.BC,o.cb,o.tU,o.VZ,o.zX,o.j4,o.JD,u.y,b.Z],styles:[".form-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px}.form-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin:0 0 8px;font-weight:800;text-transform:none;color:#fff;text-align:center}.form-description[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px;color:#fffc;font-size:1rem}.personal-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.label-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:12px}.label-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#fff;font-size:1rem;flex:1}.required[_ngcontent-%COMP%]{color:#ff6b6b;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:16px 20px;border:2px solid rgba(255,255,255,.2);border-radius:12px;background:#ffffff1a;color:#fff;font-size:1rem;backdrop-filter:blur(10px);transition:all .3s cubic-bezier(.4,0,.2,1)}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#fff9}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);background:#ffffff26;box-shadow:0 0 0 3px #d9770633}.form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%]{border-color:#ff6b6b;background:#ff6b6b1a}.error-message[_ngcontent-%COMP%]{color:#ff6b6b;font-size:.85rem;font-weight:500;text-align:right;white-space:nowrap;max-width:200px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:16px;margin-top:32px}.btn-secondary[_ngcontent-%COMP%]{background:#ffffff1a;color:#fff;border:2px solid rgba(255,255,255,.3);border-radius:16px;padding:18px 28px;font-size:18px;font-weight:700;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);flex:1;min-height:56px;display:flex;align-items:center;justify-content:center}.btn-secondary[_ngcontent-%COMP%]:hover{background:#fff3;transform:translateY(-2px)}.btn-secondary[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn-secondary[_ngcontent-%COMP%]:focus-visible{outline:3px solid rgba(255,255,255,.5);outline-offset:2px}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.btn-primary[_ngcontent-%COMP%]:disabled:hover{transform:none}"]})}}return i})()}}]);