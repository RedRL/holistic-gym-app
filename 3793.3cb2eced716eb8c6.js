"use strict";(self.webpackChunkbrain_power=self.webpackChunkbrain_power||[]).push([[3793],{3793:(F,d,s)=>{s.r(d),s.d(d,{PersonalInfoComponent:()=>v});var u=s(177),o=s(4341),_=s(3025),g=s(9112),e=s(4438),h=s(70),b=s(5096);function k(a,f){if(1&a&&(e.j41(0,"div",22),e.EFF(1),e.k0s()),2&a){const n=e.XpG();e.R7$(),e.SpI(" ",n.getFieldError("firstName")," ")}}function P(a,f){if(1&a&&(e.j41(0,"div",22),e.EFF(1),e.k0s()),2&a){const n=e.XpG();e.R7$(),e.SpI(" ",n.getFieldError("lastName")," ")}}function I(a,f){if(1&a&&(e.j41(0,"div",22),e.EFF(1),e.k0s()),2&a){const n=e.XpG();e.R7$(),e.SpI(" ",n.getFieldError("age")," ")}}function y(a,f){if(1&a&&(e.j41(0,"div",22),e.EFF(1),e.k0s()),2&a){const n=e.XpG();e.R7$(),e.SpI(" ",n.getFieldError("email")," ")}}function C(a,f){if(1&a&&(e.j41(0,"div",22),e.EFF(1),e.k0s()),2&a){const n=e.XpG();e.R7$(),e.SpI(" ",n.getFieldError("phone")," ")}}let v=(()=>{class a{constructor(n,r,t){this.fb=n,this.router=r,this.translateService=t,this.form=this.fb.group({firstName:["",[o.k0.required,o.k0.minLength(2),o.k0.maxLength(12),o.k0.pattern(/^[a-zA-Z\u0590-\u05FF\s\'\-\"]+$/)]],lastName:["",[o.k0.required,o.k0.minLength(2),o.k0.pattern(/^[a-zA-Z\u0590-\u05FF\s\'\-\"]+$/)]],age:["",[o.k0.min(1),o.k0.max(120)]],email:["",[o.k0.email]],phone:["",[o.k0.required,o.k0.pattern(/^[0-9\s\-\+\(\)]+$/)]]})}ngOnInit(){this.loadExistingProfile()}loadExistingProfile(){try{const n=JSON.parse(localStorage.getItem("profile")||"{}");if(n){const t=(n.fullName||"").split(" "),i=t[0]||"",l=t.slice(1).join(" ")||"";this.form.patchValue({firstName:i,lastName:l,age:n.age||"",email:n.email||"",phone:n.phone||""})}}catch(n){console.error("Error loading profile:",n)}}saveProfile(){if(this.form.invalid)return void this.form.markAllAsTouched();const n=this.form.value,r={fullName:`${n.firstName} ${n.lastName}`.trim(),firstName:n.firstName,lastName:n.lastName,age:n.age,email:n.email,phone:n.phone};localStorage.setItem("profile",JSON.stringify(r)),localStorage.removeItem("guest"),this.router.navigate(["/home"])}cancel(){this.router.navigate(["/home"])}getFieldError(n){const r=this.form.get(n);if(r?.errors&&r.touched){if(r.errors.required)return this.translateService.t("field_required");if(r.errors.minlength)return this.translateService.t("field_too_short");if(r.errors.maxlength)return this.translateService.t("field_too_long");if(r.errors.email)return this.translateService.t("invalid_email");if(r.errors.pattern){if("firstName"===n||"lastName"===n)return this.translateService.t("invalid_name");if("phone"===n)return this.translateService.t("invalid_phone")}if(r.errors.min||r.errors.max)return this.translateService.t("invalid_age")}return""}onNameKeyPress(n){return/^[a-zA-Z\u0590-\u05FF\s\'\-\"]$/.test(n.key)||"Backspace"===n.key||"Delete"===n.key||"Tab"===n.key}onPhoneKeyPress(n){return/^[0-9\s\-\+\(\)]$/.test(n.key)||"Backspace"===n.key||"Delete"===n.key||"Tab"===n.key}onAgeKeyPress(n){return/^[0-9]$/.test(n.key)||"Backspace"===n.key||"Delete"===n.key||"Tab"===n.key}static{this.\u0275fac=function(r){return new(r||a)(e.rXU(o.ok),e.rXU(h.Ix),e.rXU(b.c))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-personal-info"]],standalone:!0,features:[e.aNF],decls:64,vars:62,consts:[[3,"title"],[1,"content"],[1,"form-container"],[1,"form-description"],[1,"personal-form",3,"ngSubmit","formGroup"],[1,"form-group"],[1,"label-row"],["for","firstName"],[1,"required"],["class","error-message",4,"ngIf"],["id","firstName","type","text","formControlName","firstName","maxlength","12",3,"keypress","placeholder"],["for","lastName"],["id","lastName","type","text","formControlName","lastName",3,"keypress","placeholder"],["for","age"],["id","age","type","number","formControlName","age","min","1","max","120",3,"keypress","placeholder"],["for","email"],["id","email","type","email","formControlName","email",3,"placeholder"],["for","phone"],["id","phone","type","tel","formControlName","phone",3,"keypress","placeholder"],[1,"form-actions"],["type","button",1,"btn-secondary",3,"click"],["type","submit",1,"btn-primary",3,"disabled"],[1,"error-message"]],template:function(r,t){if(1&r&&(e.nrm(0,"app-header",0),e.nI1(1,"t"),e.j41(2,"div",1)(3,"div",2)(4,"h2"),e.EFF(5),e.nI1(6,"t"),e.k0s(),e.j41(7,"p",3),e.EFF(8),e.nI1(9,"t"),e.k0s(),e.j41(10,"form",4),e.bIt("ngSubmit",function(){return t.saveProfile()}),e.j41(11,"div",5)(12,"div",6)(13,"label",7),e.EFF(14),e.nI1(15,"t"),e.j41(16,"span",8),e.EFF(17,"*"),e.k0s()(),e.DNE(18,k,2,1,"div",9),e.k0s(),e.j41(19,"input",10),e.nI1(20,"t"),e.bIt("keypress",function(l){return t.onNameKeyPress(l)}),e.k0s()(),e.j41(21,"div",5)(22,"div",6)(23,"label",11),e.EFF(24),e.nI1(25,"t"),e.j41(26,"span",8),e.EFF(27,"*"),e.k0s()(),e.DNE(28,P,2,1,"div",9),e.k0s(),e.j41(29,"input",12),e.nI1(30,"t"),e.bIt("keypress",function(l){return t.onNameKeyPress(l)}),e.k0s()(),e.j41(31,"div",5)(32,"div",6)(33,"label",13),e.EFF(34),e.nI1(35,"t"),e.k0s(),e.DNE(36,I,2,1,"div",9),e.k0s(),e.j41(37,"input",14),e.nI1(38,"t"),e.bIt("keypress",function(l){return t.onAgeKeyPress(l)}),e.k0s()(),e.j41(39,"div",5)(40,"div",6)(41,"label",15),e.EFF(42),e.nI1(43,"t"),e.k0s(),e.DNE(44,y,2,1,"div",9),e.k0s(),e.nrm(45,"input",16),e.nI1(46,"t"),e.k0s(),e.j41(47,"div",5)(48,"div",6)(49,"label",17),e.EFF(50),e.nI1(51,"t"),e.j41(52,"span",8),e.EFF(53,"*"),e.k0s()(),e.DNE(54,C,2,1,"div",9),e.k0s(),e.j41(55,"input",18),e.nI1(56,"t"),e.bIt("keypress",function(l){return t.onPhoneKeyPress(l)}),e.k0s()(),e.j41(57,"div",19)(58,"button",20),e.bIt("click",function(){return t.cancel()}),e.EFF(59),e.nI1(60,"t"),e.k0s(),e.j41(61,"button",21),e.EFF(62),e.nI1(63,"t"),e.k0s()()()()()),2&r){let i,l,p,m,c;e.Y8G("title",e.bMT(1,32,"personal_info")),e.R7$(5),e.JRh(e.bMT(6,34,"update_personal_info")),e.R7$(3),e.JRh(e.bMT(9,36,"personal_info_description")),e.R7$(2),e.Y8G("formGroup",t.form),e.R7$(4),e.SpI("",e.bMT(15,38,"first_name")," "),e.R7$(4),e.Y8G("ngIf",t.getFieldError("firstName")),e.R7$(),e.AVh("error",(null==(i=t.form.get("firstName"))?null:i.invalid)&&(null==(i=t.form.get("firstName"))?null:i.touched)),e.FS9("placeholder",e.bMT(20,40,"enter_first_name")),e.R7$(5),e.SpI("",e.bMT(25,42,"last_name")," "),e.R7$(4),e.Y8G("ngIf",t.getFieldError("lastName")),e.R7$(),e.AVh("error",(null==(l=t.form.get("lastName"))?null:l.invalid)&&(null==(l=t.form.get("lastName"))?null:l.touched)),e.FS9("placeholder",e.bMT(30,44,"enter_last_name")),e.R7$(5),e.JRh(e.bMT(35,46,"age")),e.R7$(2),e.Y8G("ngIf",t.getFieldError("age")),e.R7$(),e.AVh("error",(null==(p=t.form.get("age"))?null:p.invalid)&&(null==(p=t.form.get("age"))?null:p.touched)),e.FS9("placeholder",e.bMT(38,48,"enter_age")),e.R7$(5),e.JRh(e.bMT(43,50,"email")),e.R7$(2),e.Y8G("ngIf",t.getFieldError("email")),e.R7$(),e.AVh("error",(null==(m=t.form.get("email"))?null:m.invalid)&&(null==(m=t.form.get("email"))?null:m.touched)),e.FS9("placeholder",e.bMT(46,52,"enter_email")),e.R7$(5),e.SpI("",e.bMT(51,54,"phone")," "),e.R7$(4),e.Y8G("ngIf",t.getFieldError("phone")),e.R7$(),e.AVh("error",(null==(c=t.form.get("phone"))?null:c.invalid)&&(null==(c=t.form.get("phone"))?null:c.touched)),e.FS9("placeholder",e.bMT(56,56,"enter_phone")),e.R7$(4),e.SpI(" ",e.bMT(60,58,"cancel")," "),e.R7$(2),e.Y8G("disabled",t.form.invalid),e.R7$(),e.SpI(" ",e.bMT(63,60,"save_changes")," ")}},dependencies:[u.MD,u.bT,o.X1,o.qT,o.me,o.Q0,o.BC,o.cb,o.tU,o.VZ,o.zX,o.j4,o.JD,_.y,g.Z],styles:[".form-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px}.form-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin:0 0 8px;font-weight:800;text-transform:none;color:#fff;text-align:center}.form-description[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px;color:#fffc;font-size:1rem}.personal-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.label-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:12px}.label-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#fff;font-size:1rem;flex:1}.required[_ngcontent-%COMP%]{color:#ff6b6b;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:16px 20px;border:2px solid rgba(255,255,255,.2);border-radius:12px;background:#ffffff1a;color:#fff;font-size:1rem;backdrop-filter:blur(10px);transition:all .3s cubic-bezier(.4,0,.2,1)}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#fff9}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);background:#ffffff26;box-shadow:0 0 0 3px #d9770633}.form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%]{border-color:#ff6b6b;background:#ff6b6b1a}.error-message[_ngcontent-%COMP%]{color:#ff6b6b;font-size:.85rem;font-weight:500;text-align:right;white-space:nowrap;max-width:200px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:16px;margin-top:32px}.btn-secondary[_ngcontent-%COMP%]{background:#ffffff1a;color:#fff;border:2px solid rgba(255,255,255,.3);border-radius:16px;padding:18px 28px;font-size:18px;font-weight:700;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);flex:1;min-height:56px;display:flex;align-items:center;justify-content:center}.btn-secondary[_ngcontent-%COMP%]:hover{background:#fff3;transform:translateY(-2px)}.btn-secondary[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn-secondary[_ngcontent-%COMP%]:focus-visible{outline:3px solid rgba(255,255,255,.5);outline-offset:2px}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.btn-primary[_ngcontent-%COMP%]:disabled:hover{transform:none}"]})}}return a})()}}]);