"use strict";(self.webpackChunkbrain_power=self.webpackChunkbrain_power||[]).push([[5119],{5119:(k,g,a)=>{a.r(g),a.d(g,{AiAssistantComponent:()=>_});var u=a(467),r=a(4341),o=a(177),d=a(3025),m=a(9112),e=a(4438);let h=(()=>{class n{ask(t){return(0,u.A)(function*(){const s=t.toLowerCase();return s.includes("sleep")?"Try a consistent bedtime and dim lights 1 hour before sleep. Avoid screens late; a short breathing session can help. Would you like to start the Beginner Breathing Exercise now?":s.includes("anxiety")||s.includes("stress")?'A slow 5-minute breathing routine and a short walk can ease stress. In the app, open "Let\'s Begin"  Breathing (Beginner).':s.includes("pain")?"Gentle, pain-free range of motion and easy breathing may help. If pain is severe or new, seek professional care.":'I can help with Sleep, Breathing, Movement and simple goals. Try "Let\'s Begin  Daily Routine" to start a short session.'})()}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const b=(n,c)=>({"bot-message":n,"user-message":c});function f(n,c){if(1&n&&(e.j41(0,"div",12)(1,"div",13),e.EFF(2),e.k0s(),e.j41(3,"div",14),e.EFF(4),e.nI1(5,"date"),e.k0s()()),2&n){const t=c.$implicit;e.Y8G("ngClass",e.l_i(6,b,t.isBot,!t.isBot)),e.R7$(2),e.SpI(" ",t.text," "),e.R7$(2),e.SpI(" ",e.i5U(5,3,t.timestamp,"short")," ")}}function M(n,c){if(1&n){const t=e.RV6();e.j41(0,"div",15)(1,"h4"),e.EFF(2),e.nI1(3,"t"),e.k0s(),e.j41(4,"div",16)(5,"button",17),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.sendQuickReply("Sleep tips"))}),e.EFF(6),e.nI1(7,"t"),e.k0s(),e.j41(8,"button",17),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.sendQuickReply("Breathing basics"))}),e.EFF(9),e.nI1(10,"t"),e.k0s(),e.j41(11,"button",17),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.sendQuickReply("Pain relief basics"))}),e.EFF(12),e.nI1(13,"t"),e.k0s()()()}2&n&&(e.R7$(2),e.JRh(e.bMT(3,4,"quick_questions")),e.R7$(4),e.SpI(" ",e.bMT(7,6,"sleep_tips")," "),e.R7$(3),e.SpI(" ",e.bMT(10,8,"breathing_basics")," "),e.R7$(3),e.SpI(" ",e.bMT(13,10,"pain_relief_basics")," "))}let _=(()=>{class n{constructor(t){this.chatService=t,this.messages=[],this.currentMessage=""}ngOnInit(){this.addBotMessage("Hello! I'm here to help with sleep, breathing, movement, and wellness questions. How can I assist you today?")}sendMessage(){this.currentMessage.trim()&&(this.addUserMessage(this.currentMessage),this.getBotResponse(this.currentMessage),this.currentMessage="")}sendQuickReply(t){this.addUserMessage(t),this.getBotResponse(t)}addUserMessage(t){this.messages.push({text:t,isBot:!1,timestamp:new Date})}addBotMessage(t){this.messages.push({text:t,isBot:!0,timestamp:new Date})}getBotResponse(t){var s=this;return(0,u.A)(function*(){try{const i=yield s.chatService.ask(t);s.addBotMessage(i)}catch{s.addBotMessage("I'm sorry, I couldn't process your question right now. Please try again.")}})()}toggleMic(){console.log("Mic functionality not implemented in MVP")}static{this.\u0275fac=function(s){return new(s||n)(e.rXU(h))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-ai-assistant"]],standalone:!0,features:[e.aNF],decls:20,vars:13,consts:[[3,"title"],[1,"chat-container"],[1,"messages-container"],["class","message",3,"ngClass",4,"ngFor","ngForOf"],["class","quick-replies",4,"ngIf"],[1,"input-area"],[1,"input-wrapper"],["type","text",1,"chat-input",3,"ngModelChange","keyup.enter","ngModel","placeholder"],["aria-label","Send message",1,"icon-btn",3,"click","disabled"],[1,"icon"],["aria-label","Voice input",1,"icon-btn",3,"click"],[1,"disclaimer"],[1,"message",3,"ngClass"],[1,"message-bubble"],[1,"message-time"],[1,"quick-replies"],[1,"chips-container"],[1,"level-chip",3,"click"]],template:function(s,i){1&s&&(e.nrm(0,"app-header",0),e.nI1(1,"t"),e.j41(2,"div",1)(3,"div",2),e.DNE(4,f,6,9,"div",3),e.k0s(),e.DNE(5,M,14,12,"div",4),e.j41(6,"div",5)(7,"div",6)(8,"input",7),e.nI1(9,"t"),e.mxI("ngModelChange",function(p){return e.DH7(i.currentMessage,p)||(i.currentMessage=p),p}),e.bIt("keyup.enter",function(){return i.sendMessage()}),e.k0s(),e.j41(10,"button",8),e.bIt("click",function(){return i.sendMessage()}),e.j41(11,"span",9),e.EFF(12,"send"),e.k0s()(),e.j41(13,"button",10),e.bIt("click",function(){return i.toggleMic()}),e.j41(14,"span",9),e.EFF(15,"mic"),e.k0s()()()(),e.j41(16,"div",11)(17,"small"),e.EFF(18),e.nI1(19,"t"),e.k0s()()()),2&s&&(e.Y8G("title",e.bMT(1,7,"ai_assistant")),e.R7$(4),e.Y8G("ngForOf",i.messages),e.R7$(),e.Y8G("ngIf",0===i.messages.length),e.R7$(3),e.FS9("placeholder",e.bMT(9,9,"ask_anything")),e.R50("ngModel",i.currentMessage),e.R7$(2),e.Y8G("disabled",!i.currentMessage.trim()),e.R7$(8),e.JRh(e.bMT(19,11,"general_guidance")))},dependencies:[d.y,r.YN,r.me,r.BC,r.vS,o.MD,o.YU,o.Sq,o.bT,o.vh,m.Z],styles:[".chat-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:calc(100vh - 60px);padding:16px}.messages-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;margin-bottom:16px}.message[_ngcontent-%COMP%]{margin-bottom:12px}.message-bubble[_ngcontent-%COMP%]{padding:12px 16px;border-radius:16px;max-width:80%;word-wrap:break-word}.bot-message[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{background:#e8f5f2;color:#000}.user-message[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{background:var(--primary);color:#fff;margin-left:auto}.message-time[_ngcontent-%COMP%]{font-size:.75rem;color:#000;margin-top:4px}.quick-replies[_ngcontent-%COMP%]{margin-bottom:16px}.quick-replies[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:8px;font-weight:700;color:#000}.chips-container[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.input-area[_ngcontent-%COMP%]{margin-top:auto}.input-wrapper[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;background:#fff;border-radius:12px;padding:8px;box-shadow:var(--shadow)}.chat-input[_ngcontent-%COMP%]{flex:1;border:none;outline:none;font-size:16px;padding:8px}.disclaimer[_ngcontent-%COMP%]{text-align:center;margin-top:12px;color:#000}"]})}}return n})()}}]);