<app-header [title]="'ai_assistant'|t"></app-header>

<div class="chat-container">
  <!-- Chat Messages -->
  <div class="messages-container">
    <div 
      *ngFor="let message of messages" 
      class="message"
      [ngClass]="{'bot-message': message.isBot, 'user-message': !message.isBot}">
      <div class="message-bubble">
        {{ message.text }}
      </div>
      <div class="message-time">
        {{ message.timestamp | date:'short' }}
      </div>
    </div>
  </div>
  
  <!-- Quick Reply Chips -->
  <div class="quick-replies" *ngIf="messages.length === 0">
    <h4>{{'quick_questions'|t}}</h4>
    <div class="chips-container">
      <button class="level-chip" (click)="sendQuickReply('Sleep tips')">
        {{'sleep_tips'|t}}
      </button>
      <button class="level-chip" (click)="sendQuickReply('Breathing basics')">
        {{'breathing_basics'|t}}
      </button>
      <button class="level-chip" (click)="sendQuickReply('Pain relief basics')">
        {{'pain_relief_basics'|t}}
      </button>
    </div>
  </div>
  
  <!-- Input Area -->
  <div class="input-area">
    <div class="input-wrapper">
      <input 
        class="chat-input"
        [(ngModel)]="currentMessage"
        placeholder="{{'ask_anything'|t}}"
        (keyup.enter)="sendMessage()"
        type="text">
      <button 
        class="icon-btn" 
        (click)="sendMessage()"
        [disabled]="!currentMessage.trim()"
        aria-label="Send message">
        <span class="icon">send</span>
      </button>
      <button 
        class="icon-btn" 
        (click)="toggleMic()"
        aria-label="Voice input">
        <span class="icon">mic</span>
      </button>
    </div>
  </div>
  
  <!-- Disclaimer -->
  <div class="disclaimer">
    <small>{{'general_guidance'|t}}</small>
  </div>
</div>
